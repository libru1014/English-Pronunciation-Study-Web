"use strict";(self.webpackChunkenglish_pronunciation=self.webpackChunkenglish_pronunciation||[]).push([[255],{255:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var a=s(43),n=s(282),c=s(216),r=s(213),l=s(579);const i=function(){const[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(null),[o,d]=(0,a.useState)(null),[u,h]=(0,a.useState)(null);let[p,m]=(0,a.useState)(0),[j,w]=(0,a.useState)([]),[x,S]=(0,a.useState)(""),[f,g]=(0,a.useState)([]),[v,C]=(0,a.useState)(!1),[k,A]=(0,a.useState)(0),[b,y]=(0,a.useState)(0),[N,E]=(0,a.useState)(""),[R,U]=(0,a.useState)(!1),[D,L]=(0,a.useState)([]);return(0,c.Zp)(),(0,a.useEffect)((()=>{(async()=>{const e=await r.A.get("/words",{withCredentials:!0}),t=e.data.words;L(e.data.nums);let s=[];for(let a=0;a<t.length;a++)s.push(t[a].word);w(s),y(s.length)})()}),[]),(0,a.useEffect)((()=>{j.length>0&&S(j[p])}),[j,p]),(0,l.jsx)("div",{className:"test mt-5",children:R?(0,l.jsx)(n.A,{variant:"success",onClick:()=>{(async()=>{await r.A.post("/result",{scores:f,nums:D},{withCredentials:!0}).then((e=>{200==e.status&&(window.location.href="/")})).catch((e=>{alert(e)}))})()},children:"\uc81c\ucd9c"}):(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{children:["\ubb38\uc81c ",p+1," / ",b]}),(0,l.jsx)("p",{children:x}),(0,l.jsx)(n.A,{variant:"success",onClick:e?()=>{o.stop(),t(!1)}:()=>{navigator.mediaDevices.getUserMedia({audio:!0}).then((e=>{const s=new MediaRecorder(e);s.ondataavailable=e=>{const t=e.data;h(t);const s=URL.createObjectURL(t);i(s)},s.start(),d(s),t(!0)})).catch((e=>{console.error("Error accessing microphone",e)}))},children:e?"\uc815\uc9c0":"\ub179\uc74c"}),s&&(0,l.jsxs)("div",{className:"mt-3",children:[(0,l.jsx)("p",{children:"\ub179\uc74c \uacb0\uacfc"}),(0,l.jsx)("audio",{controls:!0,src:s}),(0,l.jsx)("br",{}),!v&&(0,l.jsx)(n.A,{variant:"success",onClick:()=>{(async()=>{const e=new FormData;e.append("file",u,"recording.wav"),e.append("word",x);try{const t=await r.A.post("/test",e,{headers:{"Content-Type":"multipart/form-data"}});C(!0),A(t.data.score),E(t.data.recognized)}catch(t){console.log(t)}})()},className:"mt-2",children:"\uc81c\ucd9c"}),v&&(0,l.jsxs)("p",{className:"mt-2",children:["\uc810\uc218: ",k," ",(0,l.jsx)("br",{})," AI\uac00 \uc778\uc2dd\ud55c \ubc1c\uc74c: ",N]})]}),(0,l.jsx)("br",{}),v&&(0,l.jsx)(n.A,{variant:"success",onClick:()=>{let e=[...f,k];if(g(e),i(null),C(!1),p==j.length-1)U(!0);else{let e=p;m(p+1),S(j[e+1])}},className:"mt-3",children:"\ub2e4\uc74c"})]})})}}}]);
//# sourceMappingURL=255.826b431a.chunk.js.map